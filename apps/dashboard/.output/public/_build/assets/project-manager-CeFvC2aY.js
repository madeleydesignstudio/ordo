import{u as l,R as t,j as c,V as u,O as d}from"./client-C1FlL4RD.js";const g=["/project-manager/projects","/project-manager/tasks","/project-manager/notes"],j=function(){const r=l(),[s,o]=t.useState("kanban");g.includes(r.pathname);const i=t.useCallback(e=>{console.log("Project Manager Layout: View changed to",e),o(e),localStorage.setItem("projectManagerView",e)},[]);t.useEffect(()=>{const e=localStorage.getItem("projectManagerView");e&&["kanban","list","table","calendar","gantt","classic"].includes(e)&&o(e)},[]),t.useEffect(()=>{const e=a=>{a.detail&&a.detail.viewType&&(console.log("Project Manager Layout: Received view change event:",a.detail.viewType),o(a.detail.viewType))};return window.addEventListener("viewTypeChanged",e),()=>{window.removeEventListener("viewTypeChanged",e)}},[]);const n=t.useMemo(()=>({activeView:s,setActiveView:i}),[s,i]);return t.useEffect(()=>{console.log("Project Manager Layout: Context value updated:",n)},[n]),c.jsx(u.Provider,{value:n,children:c.jsx("main",{children:c.jsx(d,{})})})};export{j as component};
