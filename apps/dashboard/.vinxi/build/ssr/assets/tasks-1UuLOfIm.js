import{jsx as r,jsxs as t}from"react/jsx-runtime";import{useQuery as a}from"@tanstack/react-query";import{Link as l}from"@tanstack/react-router";const g=function(){const{data:i,isLoading:n,isError:s,error:o}=a({queryKey:["tasks"],queryFn:async()=>{const e=await fetch("/api/tasks");if(!e.ok)throw new Error("Failed to fetch tasks");return e.json()}});return n?r("div",{className:"p-6",children:"Loading..."}):s?t("div",{className:"p-6 text-red-500",children:["Error: ",o?.message]}):t("div",{className:"p-6",children:[r("h1",{className:"text-2xl font-bold mb-6",children:"All Tasks"}),i?.tasks.length===0?r("div",{className:"text-gray-500 italic",children:"No tasks found. Create a task in a project to see it here."}):r("div",{className:"grid gap-4",children:i?.tasks.map(e=>t("div",{className:"p-4 border rounded-lg hover:bg-gray-50 transition-colors",children:[t("div",{className:"flex justify-between items-start",children:[t("div",{children:[r("h2",{className:"text-lg font-semibold",children:e.title}),e.description&&r("p",{className:"text-gray-600 mt-1",children:e.description})]}),t("div",{className:"flex items-center gap-2",children:[r("span",{className:`px-2 py-1 rounded-full text-xs ${e.status==="todo"?"bg-gray-200 text-gray-700":e.status==="in_progress"?"bg-blue-200 text-blue-700":e.status==="in_review"?"bg-yellow-200 text-yellow-700":"bg-green-200 text-green-700"}`,children:e.status.replace("_"," ")}),r("span",{className:`px-2 py-1 rounded-full text-xs ${e.priority==="low"?"bg-gray-200 text-gray-700":e.priority==="medium"?"bg-blue-200 text-blue-700":e.priority==="high"?"bg-orange-200 text-orange-700":"bg-red-200 text-red-700"}`,children:e.priority})]})]}),t("div",{className:"mt-3 flex justify-between items-center text-sm text-gray-500",children:[r("div",{children:e.project&&t(l,{to:"/project-manager/$projectSlug",params:{projectSlug:e.project.id.toString()},className:"text-blue-600 hover:underline",children:["Project: ",e.project.name]})}),r("div",{children:e.dueDate&&t("span",{children:["Due: ",new Date(e.dueDate).toLocaleDateString()]})})]})]},e.id))})]})};export{g as component};
